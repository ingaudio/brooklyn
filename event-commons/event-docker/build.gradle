
version='0.1.0'

task dockerClean {
	doLast {
		project.exec { ExecSpec e ->
			e.commandLine composeCommand('rm','-f')
		}
	}
}

task dockerBuild {
	doLast {
		project.exec { ExecSpec e ->
			e.commandLine composeCommand('build')
		}
	}
}

task dockerUp(dependsOn:['dockerBuild']) {
	doLast {
		project.exec { ExecSpec e ->
			e.commandLine composeCommand('up')
		}
	}
}

task dockerDown {
	doLast {
		project.exec { ExecSpec e ->
			e.commandLine composeCommand('down')
		}
	}
}

Iterable<String> composeCommand(String... args) {
	def res = ['docker-compose']
	res.addAll(args)
	res
}